<!-- 预约保养页面 -->
<view class="appointment-container">
  <!-- 页面头部 -->
  <!-- <view class="appointment-header">
    <view class="back-button" bindtap="goBack">
      <image src="../../static/images/back.png" mode="aspectFit"></image>
    </view>
    <view class="page-title">预约保养服务</view>
  </view> -->

  <!-- 表单内容 -->
  <view class="form-container">
    <!-- 用户信息 -->
    <view class="form-section">
      <view class="section-title">用户信息</view>
      
      <view class="form-item">
        <view class="label">姓名</view>
        <input type="text" class="input" placeholder="请输入您的姓名" bindinput="onNameInput" value="{{userName}}"/>
      </view>
      
      <view class="form-item">
        <view class="label">手机号码</view>
        <input type="number" class="input" placeholder="请输入手机号码" maxlength="11" bindinput="onPhoneInput" value="{{phoneNumber}}"/>
      </view>
    </view>

    <!-- 头盔信息 -->
    <view class="form-section">
      <view class="section-title">头盔信息</view>
      
      <view class="form-item">
        <view class="label">头盔型号</view>
        <picker bindchange="onModelChange" value="{{modelIndex}}" range="{{helmetModels}}">
          <view class="picker">
            {{helmetModels[modelIndex] || '请选择头盔型号'}}
          </view>
        </picker>
      </view>
      
      <view class="form-item">
        <view class="label">购买时间</view>
        <picker mode="date" bindchange="onPurchaseDateChange" value="{{purchaseDate}}" start="2020-01-01" end="{{currentDate}}">
          <view class="picker">
            {{purchaseDate || '请选择购买时间'}}
          </view>
        </picker>
      </view>

      <view class="form-item">
        <view class="label">保养类型</view>
        <view class="checkbox-group">
          <label class="checkbox" wx:for="{{maintenanceTypes}}" wx:key="index" bindtap="toggleMaintenanceType" data-index="{{index}}">
            <view class="checkbox-icon {{selectedTypes[index] ? 'active' : ''}}">
              <text wx:if="{{selectedTypes[index]}}">✓</text>
            </view>
            <view class="checkbox-text">{{item}}</view>
          </label>
        </view>
      </view>
    </view>

    <!-- 预约信息 -->
    <view class="form-section">
      <view class="section-title">预约信息</view>
      
      <view class="form-item">
        <view class="label">预约日期</view>
        <picker mode="date" bindchange="onAppointmentDateChange" value="{{appointmentDate}}" start="{{currentDate}}" end="{{maxDate}}">
          <view class="picker">
            {{appointmentDate || '请选择预约日期'}}
          </view>
        </picker>
      </view>
      
      <view class="form-item">
        <view class="label">预约时间</view>
        <picker mode="time" bindchange="onAppointmentTimeChange" value="{{appointmentTime}}">
          <view class="picker">
            {{appointmentTime || '请选择预约时间'}}
          </view>
        </picker>
      </view>

      <view class="form-item">
        <view class="label">备注说明</view>
        <textarea class="textarea" placeholder="请输入您的特殊需求或疑问" bindinput="onRemarkInput" value="{{remark}}" maxlength="200"></textarea>
        <view class="char-count">{{remark.length}}/200</view>
      </view>
    </view>
  </view>

  <!-- 提交按钮 -->
  <view class="submit-section">
    <button class="submit-button" bindtap="submitAppointment">确认预约</button>
  </view>
</view>